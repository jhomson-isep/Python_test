<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="op_student_group_change_wizard_form" model="ir.ui.view">
        <field name='name'>op.student.group.change.wizard.form</field>
        <field name='model'>op.student.group.change.wizard</field>
        <field name='arch' type='xml'>
            <form string='Group Change Wizard'>
                <sheet>
                    <separator string="Group Change Student"/>
                    <div class="container">
                        <group colspan="4">
                            <field name="op_admission_id"/>
                            <field name="op_modality_id" attrs="{'invisible':[('op_admission_id','=',False)]}"/>
                            <field name="op_course_id" attrs="{'invisible':[('op_modality_id','=',False)]}"/>
                            <field name="op_batch_id" attrs="{'invisible':[('op_course_id','=',False)]}"/>
                        </group>
                    </div>
                    <notebook attrs="{'invisible':[('op_batch_id','=',False)]}">
                        <page name="moodle_courses" string="Moodle courses">
                            <field name="moodle_course_line_ids" colspan="2" nolabel="1">
                                <tree string="Moodle course Details" create="false" delete="false">
                                    <field name="selected" widget="boolean_toggle"/>
                                    <field name="course_name"/>
                                    <field name="moodle_course_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <footer>
                    <button name='change' string='Group Change'
                            class='oe_highlight'
                            type='object'/>
                    <button special="cancel" string="Cancel" type="object" class="btn btn-secondary oe_inline"/>
                </footer>
            </form>
        </field>
    </record>

    <act_window id="group_change_act" name="Group Change"
                res_model="op.student.group.change.wizard" src_model="op.student"
                view_mode="form" target="new" view_type="form"
                groups="openeducat_core.group_op_back_office_admin"/>

</odoo>